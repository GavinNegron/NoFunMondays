(()=>{var e={};e.id=636,e.ids=[636],e.modules={9658:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{M:()=>l});var s=a(9198),i=a(9243),n=a(2770),c=a(748),d=e([s,i,n,c]);[s,i,n,c]=d.then?(await d)():d;let l=(0,s.configureStore)({reducer:{posts:i.A,tasks:n.A,user:c.A}});r()}catch(e){r(e)}})},2644:(e,t,a)=>{"use strict";a.d(t,{m:()=>c,z:()=>n});var r=a(8732),s=a(2015);let i=(0,s.createContext)(),n=({children:e})=>{let[t,a]=(0,s.useState)(null),[n,c]=(0,s.useState)([]),[d,l]=(0,s.useState)(null),[o,u]=(0,s.useState)({color:"",margin:"",fontFamily:""}),[y,p]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[m,f]=(0,s.useState)(""),[w,A]=(0,s.useState)({color:o.color||"#000000",fontSize:o.fontSize||18,fontFamily:o.fontFamily||"",fontWeight:o.fontWeight||"normal",currentType:o.class||"default-text",marginTop:o.marginTop||0,marginLeft:o.marginLeft||0,marginBottom:o.marginBottom||0,marginRight:o.marginRight||0}),[v,x]=(0,s.useState)(!1),C=(0,s.useRef)(null),j=(0,s.useRef)(null),L=(0,s.useCallback)((e,t)=>{d&&c(a=>a.map(a=>a.id===d.id?{...a,style:{...a.style,[e]:t}}:a))},[d]),S=e=>{let t=e.target.files[0];if(!t)return;let a=new FileReader;a.onloadend=()=>{let e=a.result;if(p(e),d.classList.contains("banner"))f(e);else if(d.classList.contains("image")){let t=d.querySelector("img");t&&(t.src=e)}g(e)},a.readAsDataURL(t)};return(0,r.jsx)(i.Provider,{value:{post:t,setPost:a,postElements:n,setPostElements:c,selectedElement:d,setSelectedElement:l,elementStyles:o,setElementStyles:u,image:y,setImage:p,imageUrl:m,setImageUrl:f,style:w,setStyle:A,previewImage:h,setPreviewImage:g,blogPostMainRef:C,handleStyleChange:L,showColorPicker:v,setShowColorPicker:x,toggleColorPicker:()=>x(e=>!e),renderImageSelector:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Select Image:"}),(0,r.jsx)("img",{src:h,alt:"Selected preview",style:{maxWidth:"100%"},onClick:()=>j.current?.click()}),(0,r.jsx)("input",{ref:j,type:"file",onChange:e=>S(e),accept:"image/*",style:{display:"none"}})]})},children:e})},c=()=>(0,s.useContext)(i)},9243:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{A:()=>c});var s=a(9198),i=a(3716),n=e([s,i]);[s,i]=n.then?(await n)():n;let c=(0,s.combineReducers)({post:i.A});r()}catch(e){r(e)}})},2892:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{y:()=>c});var s=a(9198),i=a(2588),n=e([s,i]);[s,i]=n.then?(await n)():n;let c=(0,s.createAsyncThunk)("posts/deletePost",async(e,t)=>{try{return await (0,i.A)(e)}catch(e){return t.rejectWithValue(e.response?.data?.message||"Failed to delete post")}});r()}catch(e){r(e)}})},4921:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{b:()=>c});var s=a(9198),i=a(3289),n=e([s,i]);[s,i]=n.then?(await n)():n;let c=(0,s.createAsyncThunk)("posts/fetchFeaturedPost",async(e,t)=>{try{return await (0,i.A)()}catch(e){return t.rejectWithValue("Failed to fetch posts")}});r()}catch(e){r(e)}})},4946:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{y:()=>c});var s=a(9198),i=a(8834),n=e([s,i]);[s,i]=n.then?(await n)():n;let c=(0,s.createAsyncThunk)("posts/fetchPosts",async({limit:e,excludeFeatured:t},a)=>{try{return await (0,i.A)(e,t)}catch(e){return a.rejectWithValue("Failed to fetch posts")}});r()}catch(e){r(e)}})},9578:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{m:()=>c});var s=a(9198),i=a(170),n=e([s,i]);[s,i]=n.then?(await n)():n;let c=(0,s.createAsyncThunk)("posts/fetchSlug",async(e,t)=>{try{return await (0,i.A)(e)}catch(e){return t.rejectWithValue("Failed to fetch post")}});r()}catch(e){r(e)}})},2588:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{A:()=>n});var s=a(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async e=>(await s.default.delete(`/api/posts/${e}`)).data;r()}catch(e){r(e)}})},3289:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{A:()=>n});var s=a(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async()=>{try{return(await s.default.get("/api/posts/featured")).data}catch(e){if(e.response?.status===404)throw Error("Featured post not found");throw Error(e.response?.data?.message||"Failed to fetch featured post")}};r()}catch(e){r(e)}})},8834:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{A:()=>n});var s=a(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async(e,t=!1)=>(await s.default.get("/api/posts/recent",{params:{limit:e,excludeFeatured:t}})).data;r()}catch(e){r(e)}})},170:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{A:()=>n});var s=a(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async e=>(await s.default.get(`/api/posts/slug/${e}`)).data;r()}catch(e){r(e)}})},3716:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{A:()=>o});var s=a(9198),i=a(9578),n=a(4946),c=a(4921),d=a(2892),l=e([s,i,n,c,d]);[s,i,n,c,d]=l.then?(await l)():l;let o=(0,s.createSlice)({name:"posts",initialState:{post:null,posts:[],isLoading:!1,error:null},reducers:{addPostElement:(e,t)=>{e.post&&(e.postElements=[...e.postElements,t.payload])},deletePostElement:(e,t)=>{e.post&&(e.postElements=e.postElements.filter(e=>e.id!==t.payload))}},extraReducers:e=>{e.addCase(i.m.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.m.fulfilled,(e,t)=>{e.isLoading=!1,e.post=t.payload,e.postElements=t.payload.elements}).addCase(i.m.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}),e.addCase(n.y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.y.fulfilled,(e,t)=>{e.isLoading=!1,e.posts=t.payload}).addCase(n.y.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}),e.addCase(c.b.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c.b.fulfilled,(e,t)=>{e.isLoading=!1,e.featuredPost=t.payload}).addCase(c.b.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}),e.addCase(d.y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.y.fulfilled,e=>{e.isLoading=!1}).addCase(d.y.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}).reducer;r()}catch(e){r(e)}})},2770:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{A:()=>d});var s=a(9198),i=a(8337),n=a.n(i),c=e([s]);s=(c.then?(await c)():c)[0];let d=(0,s.combineReducers)({task:n()});r()}catch(e){r(e)}})},8337:()=>{},748:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{A:()=>c});var s=a(9198),i=a(4675),n=e([s,i]);[s,i]=n.then?(await n)():n;let c=(0,s.combineReducers)({user:i.Ay});r()}catch(e){r(e)}})},289:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{p:()=>c});var s=a(9198),i=a(1553),n=e([s,i]);[s,i]=n.then?(await n)():n;let c=(0,s.createAsyncThunk)("users/userLogin",async({email:e,password:t},a)=>{try{return await (0,i.A)(e,t)}catch(e){return a.rejectWithValue("Failed to login user")}});r()}catch(e){r(e)}})},1553:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{A:()=>n});var s=a(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async(e,t)=>(await s.default.post("/api/auth/user/login",{email:e,password:t},{headers:{"Content-Type":"application/json"}})).data;r()}catch(e){r(e)}})},4675:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Ay:()=>y});var s=a(9198),i=a(289),n=e([s,i]);[s,i]=n.then?(await n)():n;let c=(0,s.createSlice)({name:"user",initialState:{user:null,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(i.p.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.p.fulfilled,(e,t)=>{e.isLoading=!1,e.user=t.payload}).addCase(i.p.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{loginRequest:d,loginSuccess:l,loginFailure:o,logout:u}=c.actions,y=c.reducer;r()}catch(e){r(e)}})},3538:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>l});var s=a(8732),i=a(4062),n=a(9658),c=a(2644),d=e([i,n]);[i,n]=d.then?(await d)():d;let l=function({Component:e,pageProps:t}){return(0,s.jsx)(i.Provider,{store:n.M,children:(0,s.jsx)(c.z,{children:(0,s.jsx)(e,{...t})})})};r()}catch(e){r(e)}})},2015:e=>{"use strict";e.exports=require("react")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9198:e=>{"use strict";e.exports=import("@reduxjs/toolkit")},1428:e=>{"use strict";e.exports=import("axios")},4062:e=>{"use strict";e.exports=import("react-redux")}};var t=require("../webpack-runtime.js");t.C(e);var a=t(t.s=3538);module.exports=a})();