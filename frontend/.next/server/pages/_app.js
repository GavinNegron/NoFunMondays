"use strict";(()=>{var e={};e.id=636,e.ids=[636],e.modules={9658:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{M:()=>l});var s=t(9198),i=t(8328),n=t(8704),d=e([s,i,n]);[s,i,n]=d.then?(await d)():d;let l=(0,s.configureStore)({reducer:{posts:i.A,tasks:n.A}});r()}catch(e){r(e)}})},2644:(e,a,t)=>{t.d(a,{m:()=>u,z:()=>o});var r=t(8732),s=t(2015),i=t.n(s),n=t(6715),d=t(9965),l=t.n(d);let c=(0,s.createContext)(),o=({children:e})=>{let[a,t]=(0,s.useState)(null),[i,d]=(0,s.useState)(!0),[o,u]=(0,s.useState)(!1),[p,y]=(0,s.useState)([]),[h,g]=(0,s.useState)(null),[f,m]=(0,s.useState)({color:"",margin:"",fontFamily:""}),[A,w]=(0,s.useState)(""),[S,x]=(0,s.useState)(""),[L,j]=(0,s.useState)(""),[v,C]=(0,s.useState)(""),[k,P]=(0,s.useState)([]),[F,R]=(0,s.useState)([]),[T,b]=(0,s.useState)(""),[q,W]=(0,s.useState)({color:f?.color||"#000000",fontSize:f?.fontSize||18,fontFamily:f?.fontFamily||"",fontWeight:f?.fontWeight||"normal",currentType:f?.class||"default-text",marginTop:f?.marginTop||0,marginLeft:f?.marginLeft||0,marginBottom:f?.marginBottom||0,marginRight:f?.marginRight||0}),[E,V]=(0,s.useState)(!1),z=(0,s.useRef)(null),$=(0,s.useRef)(null),B=(0,s.useRef)(null),I=(0,n.useRouter)(),M=(0,s.useCallback)((e,a)=>{h&&y(t=>t.map(t=>t.id===h.id?{...t,style:{...t.style,[e]:a}}:t))},[h,y]),D=(e,a=!1)=>{let t=e.target.files[0];if(t){let e=new FileReader;e.onloadend=()=>{let t=e.result;if(C(t),a)x(t),b(t);else if(h){if(h.classList.contains("banner"))x(t);else if(h.classList.contains("image")){let e=h.querySelector("img");e&&(e.src=t)}b(t)}},e.readAsDataURL(t)}};return(0,r.jsx)(c.Provider,{value:{post:a,setPost:t,loadingState:i,setLoadingState:d,notFound:o,setNotFound:u,setTitle:j,title:L,setImage:C,image:v,postElements:p,setPostElements:y,selectedElement:h,setSelectedElement:g,elementStyles:f,setElementStyles:m,errorMessage:A,setErrorMessage:w,imageUrl:S,setImageUrl:x,deletedElements:k,setDeletedElements:P,blogPostMainRef:z,router:I,handleStyleChange:M,inputValues:F,setInputValues:R,style:q,setStyle:W,toggleColorPicker:()=>{V(!E)},showColorPicker:E,setShowColorPicker:V,colorPickerRef:$,renderImageSelector:(e=!1)=>{let a=T||(e?"/img/placeholder.png":h?.classList.contains("banner")?S:h?.querySelector("img")?.src)||"/img/placeholder.png";return(0,r.jsxs)(r.Fragment,{children:[!e&&(0,r.jsx)("p",{children:"Select Image:"}),(0,r.jsx)(l(),{width:"100",height:"100",src:a,alt:"Selected preview",style:{maxWidth:"100%"},onClick:()=>B.current?.click()}),(0,r.jsx)("input",{ref:B,type:"file",id:"imageFile",onChange:a=>D(a,e),accept:"image/*",style:{display:"none"}})]})},previewImage:T,setPreviewImage:b},children:e})},u=()=>i().useContext(c)},6271:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>n});var s=t(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async e=>(await s.default.post("/api/posts",e,{headers:{"Content-Type":"application/json"}})).data;r()}catch(e){r(e)}})},2588:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>n});var s=t(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async e=>(await s.default.delete(`/api/posts/${e}`)).data;r()}catch(e){r(e)}})},3289:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>n});var s=t(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async()=>{try{return(await s.default.get("/api/posts/featured")).data}catch(e){if(e.response?.status===404)throw Error("Featured post not found");throw Error(e.response?.data?.message||"Failed to fetch featured post")}};r()}catch(e){r(e)}})},8834:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>n});var s=t(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async(e,a=!1)=>(await s.default.get("/api/posts/recent",{params:{limit:e,excludeFeatured:a}})).data;r()}catch(e){r(e)}})},170:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>n});var s=t(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async e=>(await s.default.get(`/api/posts/slug/${e}`)).data;r()}catch(e){r(e)}})},9938:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>n});var s=t(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async e=>(await s.default.get("/api/posts/title",{params:{title:e}})).data.available;r()}catch(e){r(e)}})},126:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>n});var s=t(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async(e,a)=>(console.log(e),console.log(a),(await s.default.put(`/api/posts/${e}`,a,{headers:{"Content-Type":"application/json"}})).data);r()}catch(e){r(e)}})},8300:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>l,p:()=>d});var s=t(9198),i=t(6271),n=e([s,i]);[s,i]=n.then?(await n)():n;let d=(0,s.createAsyncThunk)("posts/create",async(e,a)=>{try{return await (0,i.A)(e)}catch(e){return a.rejectWithValue(e.response?.data?.message||"Failed to create post")}}),l=(0,s.createSlice)({name:"createPost",initialState:{newPost:null,isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,a)=>{e.isLoading=!1,e.newPost=a.payload}).addCase(d.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload})}}).reducer;r()}catch(e){r(e)}})},9723:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>l,y:()=>d});var s=t(9198),i=t(2588),n=e([s,i]);[s,i]=n.then?(await n)():n;let d=(0,s.createAsyncThunk)("posts/delete",async(e,a)=>{try{return await (0,i.A)(e)}catch(e){return a.rejectWithValue(e.response?.data?.message||"Failed to delete post")}}),l=(0,s.createSlice)({name:"deletePost",initialState:{isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,e=>{e.isLoading=!1}).addCase(d.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload})}}).reducer;r()}catch(e){r(e)}})},6072:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>l,b:()=>d});var s=t(9198),i=t(3289),n=e([s,i]);[s,i]=n.then?(await n)():n;let d=(0,s.createAsyncThunk)("posts/fetchFeatured",async(e,a)=>{try{return await (0,i.A)()}catch(e){return a.rejectWithValue(e.message)}}),l=(0,s.createSlice)({name:"fetchFeaturedPost",initialState:{featuredPost:null,isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,a)=>{e.isLoading=!1,e.featuredPost=a.payload}).addCase(d.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload})}}).reducer;r()}catch(e){r(e)}})},437:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>l,y:()=>d});var s=t(9198),i=t(8834),n=e([s,i]);[s,i]=n.then?(await n)():n;let d=(0,s.createAsyncThunk)("posts/fetch",async({limit:e,excludeFeatured:a=!1},t)=>{try{return await (0,i.A)(e,a)}catch(e){return t.rejectWithValue(e.response?.data?.message||"Failed to fetch posts")}}),l=(0,s.createSlice)({name:"fetchPosts",initialState:{posts:[],isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,a)=>{e.isLoading=!1,e.posts=a.payload}).addCase(d.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload})}}).reducer;r()}catch(e){r(e)}})},5315:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{Ay:()=>u,ip:()=>c,m0:()=>d,qs:()=>o});var s=t(9198),i=t(170),n=e([s,i]);[s,i]=n.then?(await n)():n;let d=(0,s.createAsyncThunk)("posts/fetchSlug",async({slug:e,setPost:a},t)=>{try{let t=await (0,i.A)(e);return a&&a(t),t}catch(e){return t.rejectWithValue(e.response?.data?.message||"Failed to fetch post")}}),l=(0,s.createSlice)({name:"fetchSlug",initialState:{post:null,postElements:[],isLoading:!1,error:null},reducers:{addPostElement:(e,a)=>{e.postElements.push(a.payload)},deletePostElement:(e,a)=>{e.postElements=e.postElements.filter(e=>e.id!==a.payload)}},extraReducers:e=>{e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,a)=>{e.isLoading=!1,e.post=a.payload,e.postElements=a.payload?.elements||[]}).addCase(d.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload})}}),{addPostElement:c,deletePostElement:o}=l.actions,u=l.reducer;r()}catch(e){r(e)}})},7771:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>l,O:()=>d});var s=t(9198),i=t(9938),n=e([s,i]);[s,i]=n.then?(await n)():n;let d=(0,s.createAsyncThunk)("posts/findTitle",async(e,a)=>{try{return await (0,i.A)(e)}catch(e){return a.rejectWithValue(e.response?.data?.message||"Failed to check title availability")}}),l=(0,s.createSlice)({name:"findTitle",initialState:{titleAvailable:null,isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,a)=>{e.isLoading=!1,e.titleAvailable=a.payload}).addCase(d.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload})}}).reducer;r()}catch(e){r(e)}})},8328:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>y});var s=t(9198),i=t(437),n=t(7771),d=t(8300),l=t(9723),c=t(6017),o=t(6072),u=t(5315),p=e([s,i,n,d,l,c,o,u]);[s,i,n,d,l,c,o,u]=p.then?(await p)():p;let y=(0,s.combineReducers)({fetchPosts:i.A,findTitle:n.A,createPost:d.A,deletePost:l.A,updatePost:c.A,fetchFeaturedPost:o.A,fetchSlug:u.Ay});r()}catch(e){r(e)}})},6017:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>l});var s=t(9198),i=t(126),n=e([s,i]);[s,i]=n.then?(await n)():n;let d=(0,s.createAsyncThunk)("posts/update",async({postId:e,updatedPost:a},t)=>{try{return await (0,i.A)(e,a)}catch(e){return t.rejectWithValue(e.response?.data?.message||"Failed to update post")}}),l=(0,s.createSlice)({name:"updatePost",initialState:{updatedPost:null,isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,a)=>{e.isLoading=!1,e.updatedPost=a.payload}).addCase(d.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload})}}).reducer;r()}catch(e){r(e)}})},5279:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>n});var s=t(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=async(e,a=!1)=>(await s.default.get("/api/tasks",{params:{limit:e,excludeFeatured:a}})).data;r()}catch(e){r(e)}})},5672:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{j:()=>d});var s=t(9198),i=t(5279),n=e([s,i]);[s,i]=n.then?(await n)():n;let d=(0,s.createAsyncThunk)("tasks/fetch",async({limit:e,excludeFeatured:a=!1},t)=>{try{return await (0,i.A)(e,a)}catch(e){return t.rejectWithValue(e.response?.data?.message||"Failed to fetch tasks")}});r()}catch(e){r(e)}})},8704:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>d});var s=t(9198),i=t(5672),n=e([s,i]);[s,i]=n.then?(await n)():n;let d=(0,s.createSlice)({name:"tasks",initialState:{tasks:[],isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(i.j.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.j.fulfilled,(e,a)=>{e.isLoading=!1,e.tasks=a.payload}).addCase(i.j.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload})}}).reducer;r()}catch(e){r(e)}})},3538:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>c});var s=t(8732),i=t(4062),n=t(9658),d=t(2644),l=e([i,n]);[i,n]=l.then?(await l)():l;let c=function({Component:e,pageProps:a}){return console.log("Redux Store Provider initialized"),(0,s.jsx)(i.Provider,{store:n.M,children:(0,s.jsx)(d.z,{children:(0,s.jsx)(e,{...a})})})};r()}catch(e){r(e)}})},361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:e=>{e.exports=require("react")},2326:e=>{e.exports=require("react-dom")},8732:e=>{e.exports=require("react/jsx-runtime")},9021:e=>{e.exports=require("fs")},7910:e=>{e.exports=require("stream")},4075:e=>{e.exports=require("zlib")},9198:e=>{e.exports=import("@reduxjs/toolkit")},1428:e=>{e.exports=import("axios")},4062:e=>{e.exports=import("react-redux")}};var a=require("../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[993,615],()=>t(3538));module.exports=r})();