"use strict";(()=>{var e={};e.id=636,e.ids=[636],e.modules={9658:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{M:()=>o});var s=t(9198),n=t(6175),d=t(8704),i=t(1974),l=e([s,n,d,i]);[s,n,d,i]=l.then?(await l)():l;let o=(0,s.configureStore)({reducer:{posts:n.A,tasks:d.A,user:i.Ay}});r()}catch(e){r(e)}})},2644:(e,a,t)=>{t.d(a,{m:()=>i,z:()=>d});var r=t(8732),s=t(2015);let n=(0,s.createContext)(),d=({children:e})=>{let[a,t]=(0,s.useState)(null),[d,i]=(0,s.useState)([]),[l,o]=(0,s.useState)(null),[c,u]=(0,s.useState)({color:"",margin:"",fontFamily:""}),[p,y]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[f,m]=(0,s.useState)(""),[w,j]=(0,s.useState)({color:c.color||"#000000",fontSize:c.fontSize||18,fontFamily:c.fontFamily||"",fontWeight:c.fontWeight||"normal",currentType:c.class||"default-text",marginTop:c.marginTop||0,marginLeft:c.marginLeft||0,marginBottom:c.marginBottom||0,marginRight:c.marginRight||0}),[C,x]=(0,s.useState)(!1),L=(0,s.useRef)(null),k=(0,s.useRef)(null),S=(0,s.useCallback)((e,a)=>{l&&i(t=>t.map(t=>t.id===l.id?{...t,style:{...t.style,[e]:a}}:t))},[l]),v=e=>{let a=e.target.files[0];if(!a)return;let t=new FileReader;t.onloadend=()=>{let e=t.result;y(e),g(e)},t.readAsDataURL(a)};return(0,r.jsx)(n.Provider,{value:{post:a,setPost:t,postElements:d,setPostElements:i,selectedElement:l,setSelectedElement:o,elementStyles:c,setElementStyles:u,image:p,setImage:y,imageUrl:f,setImageUrl:m,style:w,setStyle:j,previewImage:h,setPreviewImage:g,blogPostMainRef:L,handleStyleChange:S,showColorPicker:C,setShowColorPicker:x,toggleColorPicker:()=>x(e=>!e),renderImageSelector:()=>{let e=h||"/img/placeholder.png";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:e,alt:"Selected preview",style:{maxWidth:"100%"},onClick:()=>k.current?.click()}),(0,r.jsx)("input",{ref:k,type:"file",onChange:e=>v(e),accept:"image/*",style:{display:"none"}})]})}},children:e})},i=()=>(0,s.useContext)(n)},5271:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{b4:()=>u,dH:()=>h,ip:()=>i,m0:()=>y,pD:()=>o,qs:()=>l,y9:()=>p,ys:()=>c});var s=t(9198),n=t(6450),d=e([s,n]);[s,n]=d.then?(await d)():d;let i=e=>({type:"posts/addPostElement",payload:e}),l=e=>({type:"posts/deletePostElement",payload:e}),o=(0,s.createAsyncThunk)("posts/create",async(e,a)=>{try{return await n.pD(e)}catch(e){return a.rejectWithValue(e.response?.data?.message||"Failed to create post")}}),c=(0,s.createAsyncThunk)("posts/deletePost",async(e,a)=>{try{return await n.ys(e)}catch(e){return a.rejectWithValue(e.response?.data?.message||"Failed to delete post")}}),u=(0,s.createAsyncThunk)("posts/fetchFeaturedPost",async(e,a)=>{try{return await n.b4()}catch(e){return a.rejectWithValue("Failed to fetch posts")}}),p=(0,s.createAsyncThunk)("posts/fetchPosts",async({limit:e,excludeFeatured:a},t)=>{try{return await n.y9(e,a)}catch(e){return t.rejectWithValue("Failed to fetch posts")}}),y=(0,s.createAsyncThunk)("posts/fetchSlug",async(e,a)=>{try{return await n.m0(e)}catch(e){return a.rejectWithValue("Failed to fetch post")}}),h=(0,s.createAsyncThunk)("posts/fetchTitle",async(e,a)=>{try{return await n.dH(e)}catch(e){return a.rejectWithValue("Failed to fetch title.")}});r()}catch(e){r(e)}})},6450:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{b4:()=>l,dH:()=>u,gg:()=>p,m0:()=>c,pD:()=>d,y9:()=>o,ys:()=>i});var s=t(1428),n=e([s]);s=(n.then?(await n)():n)[0];let d=async e=>(await s.default.post("/api/posts",e,{headers:{"Content-Type":"application/json"}})).data,i=async e=>(await s.default.delete(`/api/posts/${e}`)).data,l=async()=>{try{return(await s.default.get("/api/posts/featured")).data}catch(e){if(e.response?.status===404)throw Error("Featured post not found");throw Error(e.response?.data?.message||"Failed to fetch featured post")}},o=async(e,a=!1)=>(await s.default.get("/api/posts/recent",{params:{limit:e,excludeFeatured:a}})).data,c=async e=>(await s.default.get(`/api/posts/slug/${e}`)).data,u=async e=>(await s.default.get("/api/posts/title",{params:{title:e}})).data.available,p=async(e,a)=>(await s.default.put(`/api/posts/${e}`,a,{headers:{"Content-Type":"application/json"}})).data;r()}catch(e){r(e)}})},6175:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>l});var s=t(9198),n=t(5271),d=e([s,n]);[s,n]=d.then?(await d)():d;let i=(0,s.createSlice)({name:"posts",initialState:{post:null,posts:[],featuredPost:null,postElements:[],isLoading:!1,error:null,newPost:null},reducers:{addPostElement:(e,a)=>{e.post&&(e.postElements=[...e.postElements,a.payload])},deletePostElement:(e,a)=>{e.post&&(e.postElements=e.postElements.filter(e=>e.id!==a.payload))}},extraReducers:e=>{e.addCase(n.m0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.m0.fulfilled,(e,a)=>{e.isLoading=!1,e.post=a.payload,e.postElements=a.payload.elements}).addCase(n.m0.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload}),e.addCase(n.y9.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.y9.fulfilled,(e,a)=>{e.isLoading=!1,e.posts=a.payload}).addCase(n.y9.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload}),e.addCase(n.b4.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.b4.fulfilled,(e,a)=>{e.isLoading=!1,e.featuredPost=a.payload}).addCase(n.b4.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload}),e.addCase(n.ys.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.ys.fulfilled,e=>{e.isLoading=!1}).addCase(n.ys.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload}),e.addCase(n.pD.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.pD.fulfilled,(e,a)=>{e.isLoading=!1,e.newPost=a.payload}).addCase(n.pD.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload})}}),l=(0,s.combineReducers)({post:i.reducer});r()}catch(e){r(e)}})},5279:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>d});var s=t(1428),n=e([s]);s=(n.then?(await n)():n)[0];let d=async(e,a=!1)=>(await s.default.get("/api/tasks",{params:{limit:e,excludeFeatured:a}})).data;r()}catch(e){r(e)}})},5672:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{j:()=>i});var s=t(9198),n=t(5279),d=e([s,n]);[s,n]=d.then?(await d)():d;let i=(0,s.createAsyncThunk)("tasks/fetch",async({limit:e,excludeFeatured:a=!1},t)=>{try{return await (0,n.A)(e,a)}catch(e){return t.rejectWithValue(e.response?.data?.message||"Failed to fetch tasks")}});r()}catch(e){r(e)}})},8704:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{A:()=>i});var s=t(9198),n=t(5672),d=e([s,n]);[s,n]=d.then?(await d)():d;let i=(0,s.createSlice)({name:"tasks",initialState:{tasks:[],isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(n.j.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.j.fulfilled,(e,a)=>{e.isLoading=!1,e.tasks=a.payload}).addCase(n.j.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload})}}).reducer;r()}catch(e){r(e)}})},8763:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{p:()=>i});var s=t(9198),n=t(6414),d=e([s,n]);[s,n]=d.then?(await d)():d;let i=(0,s.createAsyncThunk)("users/userLogin",async({email:e,password:a},t)=>{try{return await n.p(e,a)}catch(e){return t.rejectWithValue("Failed to login user")}});r()}catch(e){r(e)}})},6414:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{p:()=>d});var s=t(1428),n=e([s]);s=(n.then?(await n)():n)[0];let d=async(e,a)=>(await s.default.post("/api/auth/user/login",{email:e,password:a},{headers:{"Content-Type":"application/json"}})).data;r()}catch(e){r(e)}})},1974:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.d(a,{Ay:()=>y});var s=t(9198),n=t(8763),d=e([s,n]);[s,n]=d.then?(await d)():d;let i=(0,s.createSlice)({name:"user",initialState:{user:null,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(n.p.pending,e=>{e.loading=!0,e.error=null}).addCase(n.p.fulfilled,(e,a)=>{e.loading=!1,e.user=a.payload}).addCase(n.p.rejected,(e,a)=>{e.loading=!1,e.error=a.payload})}}),l=(0,s.combineReducers)({user:i.reducer}),{loginRequest:o,loginSuccess:c,loginFailure:u,logout:p}=i.actions,y=l;r()}catch(e){r(e)}})},3538:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>o});var s=t(8732),n=t(4062),d=t(9658),i=t(2644),l=e([n,d]);[n,d]=l.then?(await l)():l;let o=function({Component:e,pageProps:a}){return(0,s.jsx)(n.Provider,{store:d.M,children:(0,s.jsx)(i.z,{children:(0,s.jsx)(e,{...a})})})};r()}catch(e){r(e)}})},2015:e=>{e.exports=require("react")},8732:e=>{e.exports=require("react/jsx-runtime")},9198:e=>{e.exports=import("@reduxjs/toolkit")},1428:e=>{e.exports=import("axios")},4062:e=>{e.exports=import("react-redux")}};var a=require("../webpack-runtime.js");a.C(e);var t=a(a.s=3538);module.exports=t})();