(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4484],{98190:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/posts/components/NewPost/new-post",function(){return s(80364)}])},71557:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var n=s(74848),r=s(83914),a=s(66188);let i=function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"loading-screen",style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#121212",zIndex:"99999",fontSize:"2.25rem",overflowX:"hidden",overflowY:"hidden"},children:(0,n.jsx)("div",{className:"loading-screen__icon",children:(0,n.jsx)(r.g,{icon:a.Rbk,bounce:!0,size:"2x",style:{color:"#ffffff"}})})})})}},80364:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var n=s(74848),r=s(96540),a=s(72644),i=s(74692),l=s.n(i),c=s(71468),o=s(30307),d=s(55194),u=s(88848),p=s(86715),h=s(71557);let _=function(){let{renderImageSelector:e,image:t,setTitle:s,title:i}=(0,a.m)(),_=(0,c.wA)(),w=(0,p.useRouter)(),[f,x]=(0,r.useState)(null),[m,j]=(0,r.useState)(!1),v=(0,r.useRef)(!0);(0,r.useEffect)(()=>(l()(".new-post").on("click",e=>{(0,o.wj)(e,".new-post__inner",".new-post")}),()=>{v.current=!1}),[]);let N=async()=>{if(!i||!t){v.current&&x("Title and image are required");return}try{if(!await _((0,u.O)(i)).unwrap()){v.current&&(x("Title already exists. Please choose a different title."),l()(".new-post").addClass("error-visible"));return}let e=await _((0,d.p)({title:i,imageUrl:t,status:"draft"})).unwrap();v.current&&w.push("/dashboard/posts/edit/".concat(e.slug))}catch(e){v.current&&x("Error.",e)}finally{v.current&&j(!1)}};return m?(0,n.jsx)(h.default,{}):(0,n.jsx)("div",{className:"new-post ".concat(f?"error-visible":""),children:(0,n.jsxs)("div",{className:"new-post__inner",children:[(0,n.jsx)("div",{className:"new-post__header",children:(0,n.jsx)("span",{children:"Create New Post:"})}),(0,n.jsxs)("div",{className:"new-post__content",children:[f&&(0,n.jsx)("div",{className:"new-post__content-error",children:(0,n.jsx)("span",{children:f})}),(0,n.jsxs)("div",{className:"new-post__content-title",children:[(0,n.jsx)("span",{children:"Add a title: "}),(0,n.jsx)("input",{onChange:e=>s(e.target.value),maxLength:"80",type:"text",placeholder:"Add a title"})]}),(0,n.jsxs)("div",{className:"new-post__content-image",children:[(0,n.jsx)("span",{children:"Select Image"}),(0,n.jsx)("div",{className:"new-post__content-image__preview",children:e(!0)})]}),(0,n.jsx)("div",{className:"new-post__content-submit",children:(0,n.jsx)("button",{className:"fortnite-btn",onClick:N,children:"Create Post"})})]})]})})}},30307:(e,t,s)=>{"use strict";s.d(t,{wj:()=>a});var n=s(74692),r=s.n(n);let a=(e,t,s)=>{!(Array.isArray(t)?t:[t]).some(t=>e.target.closest(t))&&s&&r()(s).stop(!0,!0).fadeOut(200)}}},e=>{var t=t=>e(e.s=t);e.O(0,[3461,7069,3914,636,6593,8792],()=>t(98190)),_N_E=e.O()}]);