(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2496],{59127:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/posts",function(){return a(70101)}])},71557:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});var i=a(74848),l=a(83914),r=a(66188);let t=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"loading-screen",style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#121212",zIndex:"99999",fontSize:"2.25rem",overflowX:"hidden",overflowY:"hidden"},children:(0,i.jsx)("div",{className:"loading-screen__icon",children:(0,i.jsx)(l.g,{icon:r.Rbk,bounce:!0,size:"2x",style:{color:"#ffffff"}})})})})}},52805:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var i=a(74848);let l=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"search",children:(0,i.jsxs)("form",{action:"",className:"search__form",children:[(0,i.jsx)("input",{type:"text",className:"search__form-input",placeholder:"Search: "}),(0,i.jsx)("button",{className:"search__form-btn",type:"submit",children:(0,i.jsx)("i",{className:"fa-solid fa-magnifying-glass"})})]})})})}},98297:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});var i=a(74848),l=a(91106),r=a.n(l);let t=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"socials",children:[(0,i.jsx)(r(),{className:"socials-item",href:"/discord","data-color":"#7289da",children:(0,i.jsx)("i",{className:"fa-brands fa-discord"})}),(0,i.jsx)(r(),{className:"socials-item",href:"/youtube","data-color":"#ff0000",children:(0,i.jsx)("i",{className:"fa-brands fa-youtube"})}),(0,i.jsx)(r(),{className:"socials-item",href:"/twitter","data-color":"#1da1f2",children:(0,i.jsx)("i",{className:"fa-brands fa-twitter"})}),(0,i.jsx)(r(),{className:"socials-item",href:"/email","data-color":"#333333",children:(0,i.jsx)("i",{className:"fa-regular fa-envelope"})})]})})}},80364:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>_});var i=a(74848),l=a(96540),r=a(72644),t=a(74692),n=a.n(t),d=a(71468),c=a(30307),o=a(55194),h=a(88848),m=a(86715),x=a(71557);let _=function(){let{renderImageSelector:e,image:s,setTitle:a,title:t}=(0,r.m)(),_=(0,d.wA)(),f=(0,m.useRouter)(),[j,u]=(0,l.useState)(null),[N,b]=(0,l.useState)(!1),p=(0,l.useRef)(!0);(0,l.useEffect)(()=>(n()(".new-post").on("click",e=>{(0,c.wj)(e,".new-post__inner",".new-post")}),()=>{p.current=!1}),[]);let v=async()=>{if(!t||!s){p.current&&u("Title and image are required");return}try{if(!await _((0,h.O)(t)).unwrap()){p.current&&(u("Title already exists. Please choose a different title."),n()(".new-post").addClass("error-visible"));return}let e=await _((0,o.p)({title:t,imageUrl:s,status:"draft"})).unwrap();p.current&&f.push("/dashboard/posts/edit/".concat(e.slug))}catch(e){p.current&&u("Error.",e)}finally{p.current&&b(!1)}};return N?(0,i.jsx)(x.default,{}):(0,i.jsx)("div",{className:"new-post ".concat(j?"error-visible":""),children:(0,i.jsxs)("div",{className:"new-post__inner",children:[(0,i.jsx)("div",{className:"new-post__header",children:(0,i.jsx)("span",{children:"Create New Post:"})}),(0,i.jsxs)("div",{className:"new-post__content",children:[j&&(0,i.jsx)("div",{className:"new-post__content-error",children:(0,i.jsx)("span",{children:j})}),(0,i.jsxs)("div",{className:"new-post__content-title",children:[(0,i.jsx)("span",{children:"Add a title: "}),(0,i.jsx)("input",{onChange:e=>a(e.target.value),maxLength:"80",type:"text",placeholder:"Add a title"})]}),(0,i.jsxs)("div",{className:"new-post__content-image",children:[(0,i.jsx)("span",{children:"Select Image"}),(0,i.jsx)("div",{className:"new-post__content-image__preview",children:e(!0)})]}),(0,i.jsx)("div",{className:"new-post__content-submit",children:(0,i.jsx)("button",{className:"fortnite-btn",onClick:v,children:"Create Post"})})]})]})})}},70101:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var i=a(74848),l=a(96540),r=a(71468),t=a(74692),n=a.n(t),d=a(13368),c=a.n(d),o=a(29965),h=a.n(o),m=a(91106),x=a.n(m),_=a(93022),f=a(34248),j=a(80364),u=a(71557),N=a(2950),b=a(76318);a(3435),a(59122);let p=function(){let e=(0,r.wA)(),{posts:s}=(0,r.d4)(e=>e.posts.fetchPosts),[a,t]=(0,l.useState)(5),[d,o]=(0,l.useState)(!1),[m,p]=(0,l.useState)([]),[v,g]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{g(!0);try{await e((0,N.y)({limit:a,excludeFeatured:!1})),await new Promise(e=>setTimeout(e,500))}catch(e){console.error("Failed to fetch posts:",e)}finally{g(!1)}})()},[e,a]),(0,l.useEffect)(()=>{s.length>0&&o(m.length===s.length)},[m,s]);let w=()=>{o(e=>!e),p(d?[]:s.map(e=>e._id))},k=e=>{p(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},y=()=>{t(e=>e+4)},C=async s=>{if(window.confirm("Are you sure you want to delete this post?"))try{await e((0,b.y)(s)),e((0,N.y)({limit:a}))}catch(e){console.log(e)}},P=async()=>{n()("body").css("max-height","100vh"),n()("body").css("overflow","hidden"),n()(".new-post").css("display","flex")};return v?(0,i.jsx)(u.default,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c(),{children:[(0,i.jsx)("title",{children:"Posts"}),(0,i.jsx)("script",{defer:!0,src:"https://code.jquery.com/jquery-3.7.1.min.js",type:"module"}),(0,i.jsx)("script",{async:!0,src:"https://kit.fontawesome.com/5ee52856b3.js",crossOrigin:"anonymous"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(_.default,{}),(0,i.jsxs)("main",{className:"main db",children:[(0,i.jsx)(f.default,{}),(0,i.jsxs)("div",{className:"dashboard",children:[(0,i.jsx)("div",{className:"dashboard__header",children:(0,i.jsx)("span",{children:"Posts"})}),(0,i.jsxs)("div",{className:"dashboard__top",children:[(0,i.jsxs)("div",{className:"dashboard__filters",children:[(0,i.jsxs)("div",{className:"dashboard__filters__item",children:[(0,i.jsx)("input",{type:"checkbox"}),(0,i.jsx)("span",{children:"Featured"})]}),(0,i.jsx)("span",{children:"|"}),(0,i.jsxs)("div",{className:"dashboard__filters__item",children:[(0,i.jsx)("span",{children:"Status:"}),(0,i.jsxs)("select",{name:"status",children:[(0,i.jsx)("option",{value:"published",children:"Published"}),(0,i.jsx)("option",{value:"draft",children:"Draft"})]})]})]}),(0,i.jsx)("div",{className:"dashboard__new-post",children:(0,i.jsx)("div",{className:"dashboard__new-post__item",children:(0,i.jsxs)(x(),{href:"#new-post",onClick:P,children:[(0,i.jsx)("i",{className:"fa-solid fa-plus"}),(0,i.jsx)("span",{children:"New Post"})]})})})]}),(0,i.jsx)("div",{className:"dashboard__posts",children:(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:(0,i.jsx)("input",{onClick:()=>w(),id:"selectAll",type:"checkbox"})}),(0,i.jsx)("th",{className:"image",children:"Image"}),(0,i.jsxs)("th",{className:"title",children:["Title ",(0,i.jsx)("i",{className:"fa-solid fa-arrow-up"})]}),(0,i.jsx)("th",{className:"date",children:"Date"}),(0,i.jsx)("th",{className:"views",children:"Views"}),(0,i.jsx)("th",{className:"status",children:"Status"}),(0,i.jsx)("th",{className:"edit",children:"Edit"}),(0,i.jsx)("th",{className:"delete",children:"Delete"})]})}),(0,i.jsx)("tbody",{children:s.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("input",{className:"dashboard__checkbox",type:"checkbox",checked:m.includes(e._id),onChange:()=>k(e._id)})}),(0,i.jsx)("td",{className:"dashboard__posts__image",children:(0,i.jsx)(h(),{width:"100",height:"100",src:e.imageUrl||"https://via.placeholder.com/150",alt:e.title||"Post image"})}),(0,i.jsx)("td",{className:"dashboard__posts__title",children:e.title}),(0,i.jsx)("td",{className:"dashboard__posts__date",children:new Date(e.createdAt).toLocaleDateString()}),(0,i.jsx)("td",{className:"dashboard__posts__views",children:e.views||0}),(0,i.jsx)("td",{className:"dashboard__posts__status",children:(0,i.jsx)("i",{children:e.status||"Published"})}),(0,i.jsx)("td",{className:"",children:(0,i.jsx)("div",{id:"edit",className:"dashboard__posts__icon",children:(0,i.jsx)("p",{children:(0,i.jsx)(x(),{className:"dashboard__posts__icon--edit",href:"/dashboard/posts/edit/".concat(e.slug),children:"Edit"})})})}),(0,i.jsx)("td",{className:"",children:(0,i.jsx)("div",{id:"delete",className:"dashboard__posts__icon",children:(0,i.jsx)("p",{children:(0,i.jsx)(x(),{className:"dashboard__posts__icon--delete",href:"#delete",onClick:()=>C(e._id),children:"Delete"})})})})]},e._id))})]})}),(0,i.jsx)("div",{className:"dashboard__load",children:(0,i.jsx)("button",{onClick:()=>y(),className:"fortnite-btn",children:"Load More Posts"})})]}),(0,i.jsx)(j.default,{})]})]})]})}},93022:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var i=a(74848),l=a(98297),r=a(52805),t=a(29965),n=a.n(t),d=a(91106),c=a.n(d);let o=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("nav",{className:"container-fluid navbar",children:[(0,i.jsxs)("div",{className:"navbar__logo",children:[(0,i.jsx)(c(),{href:"/",className:"navbar__logo-name",children:"NoFunMondays"}),(0,i.jsx)(n(),{width:"100",height:"100",src:"/img/placeholder.png",alt:"Home",className:"navbar__logo-img"})]}),(0,i.jsxs)("div",{className:"navbar__menu d-flex center",children:[(0,i.jsxs)("div",{className:"navbar__menu-left",children:[(0,i.jsx)(c(),{href:"/about",className:"navbar__link",children:"Home"}),(0,i.jsx)(c(),{href:"/about",className:"navbar__link",children:"Blog"}),(0,i.jsx)(c(),{href:"/blog",className:"navbar__link",children:"Games"}),(0,i.jsx)(c(),{href:"/login",className:"navbar__link",children:"Leaks"}),(0,i.jsx)(c(),{href:"/login",className:"navbar__link",children:"Contact"})]}),(0,i.jsxs)("div",{className:"navbar__menu-right d-flex",children:[(0,i.jsx)(r.default,{}),(0,i.jsx)(l.default,{})]})]}),(0,i.jsx)("div",{className:"navbar__hamburger",children:(0,i.jsx)(n(),{width:"100",height:"100",src:"/img/hamburger-icon.png",className:"navbar__hamburger-img",alt:"menu-icon"})}),(0,i.jsxs)("div",{className:"navbar__dropdown",children:[(0,i.jsx)(c(),{href:"/",className:"navbar__dropdown-link",children:"Home"}),(0,i.jsx)(c(),{href:"/blog",className:"navbar__dropdown-link",children:"Blog"}),(0,i.jsx)(c(),{href:"/learn",className:"navbar__dropdown-link",children:"Games"}),(0,i.jsx)(c(),{href:"/about",className:"navbar__dropdown-link",children:"Leaks"}),(0,i.jsx)(c(),{href:"/contact-us",className:"navbar__dropdown-link",children:"Contact"})]})]})})}},34248:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var i=a(74848),l=a(96540),r=a(86715),t=a(29965),n=a.n(t),d=a(91106),c=a.n(d);let o=function(){let e=(0,r.useRouter)(),[s,a]=(0,l.useState)(!1),t=(e,s)=>{e.preventDefault(),window.location.href=s};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("aside",{className:"sidebar ".concat(s?"collapsed":""),children:[(0,i.jsxs)("div",{className:"sidebar__top d-flex align-items-center",children:[(0,i.jsxs)("div",{className:"sidebar__top-logo",children:[(0,i.jsx)(c(),{href:"/",draggable:"false",className:"sidebar__top-logo-name",children:"Admin Dashboard"}),(0,i.jsx)("div",{className:"sidebar__top-logo-img",children:(0,i.jsx)(n(),{width:"100",height:"100",src:"/img/placeholder.png",alt:"Placeholder Logo"})})]}),(0,i.jsx)("div",{className:"sidebar__top-arrow",onClick:()=>{a(!s)},children:(0,i.jsx)("i",{className:"fa-solid fa-chevron-left",style:{color:"#ffffff"}})})]}),(0,i.jsxs)("div",{className:"sidebar__profile",children:[(0,i.jsx)("div",{className:"sidebar__profile-icon",children:(0,i.jsx)(n(),{width:"100",height:"100",src:"/img/user.jpeg",draggable:"false",alt:"User Profile"})}),(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("span",{className:"sidebar__profile-name",children:"Gavin Negron"}),(0,i.jsx)("span",{className:"sidebar__profile-email",children:"gavinnegron@icloud.com"})]})]}),(0,i.jsx)("div",{className:"sidebar__links",children:[{text:"Dashboard",href:"/dashboard",iconName:"chart-simple"},{text:"Posts",href:"/dashboard/posts",iconName:"newspaper"},{text:"Users",href:"/dashboard/users",iconName:"users-gear"},{text:"Notifications",href:"/dashboard/notifications",iconName:"bell"},{text:"Tasks",href:"/dashboard/tasks",iconName:"clipboard-list"},{text:"Settings",href:"/dashboard/settings",iconName:"gear"}].map((s,a)=>(0,i.jsxs)(c(),{href:s.href,className:"sidebar__links-item ".concat(e.pathname===s.href?"active":""),draggable:"false",onClick:e=>t(e,s.href),children:[(0,i.jsx)("div",{className:"sidebar__links-item-icon",children:(0,i.jsx)("i",{className:"fa-solid fa-".concat(s.iconName),style:{color:"#ffffff"}})}),(0,i.jsx)("div",{className:"sidebar__links-item-text",children:s.text})]},a))}),(0,i.jsxs)("div",{className:"sidebar__bottom d-flex align-items-center flex-column",children:[(0,i.jsx)("span",{className:"sidebar__links-line"}),(0,i.jsxs)("div",{className:"sidebar__links-item",children:[(0,i.jsx)("div",{className:"sidebar__links-item-icon",children:(0,i.jsx)("i",{className:"fa-solid fa-right-from-bracket",style:{color:"#ffffff"}})}),(0,i.jsx)("div",{className:"sidebar__links-item-text",children:(0,i.jsx)(c(),{href:"/",draggable:"false",children:"Logout"})})]}),(0,i.jsxs)("div",{className:"sidebar__links-item toggle",children:[(0,i.jsx)("div",{className:"sidebar__links-item-icon",children:(0,i.jsx)("i",{className:"fa-solid fa-moon",style:{color:"#ffffff"}})}),(0,i.jsx)("div",{className:"sidebar__links-item-text",children:(0,i.jsx)("span",{children:"Theme"})}),(0,i.jsx)("div",{className:"sidebar__links-item-toggle",children:(0,i.jsx)("i",{className:"fa-solid fa-2xl fa-toggle-on",style:{color:"#ffffff"}})})]})]})]})})}},30307:(e,s,a)=>{"use strict";a.d(s,{wj:()=>r});var i=a(74692),l=a.n(i);let r=(e,s,a)=>{!(Array.isArray(s)?s:[s]).some(s=>e.target.closest(s))&&a&&l()(a).stop(!0,!0).fadeOut(200)}},3435:()=>{},59122:()=>{},13368:(e,s,a)=>{e.exports=a(23248)}},e=>{var s=s=>e(e.s=s);e.O(0,[3461,7069,1106,3914,5025,636,6593,8792],()=>s(59127)),_N_E=e.O()}]);