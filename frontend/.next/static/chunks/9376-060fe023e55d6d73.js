"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9376],{19376:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var i=s(74848),l=s(96540),a=s(87335),n=s(72644),r=s(74692),d=s.n(r),o=s(44402),c=s(91106),h=s.n(c);let u=function(){let{post:e}=(0,n.m)(),t=null==e?void 0:e.slug,[s,r]=(0,l.useState)(!0);if((0,l.useEffect)(()=>{(null==e?void 0:e.status)&&r(!1)},[e]),s||!e)return(0,i.jsx)("div",{children:"Loading..."});let c=e.status,u=async()=>{d()("body").css("max-height","100vh"),d()("body").css("overflow","hidden"),d()(".publish").css("display","flex")};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"editor-navbar col-12",children:[(0,i.jsx)("div",{className:"editor-navbar__left align-items-center d-flex",children:(0,i.jsxs)("div",{className:"editor-navbar__item__status d-flex align-items-center",children:[(0,i.jsx)("span",{children:"Page Status: "}),(0,i.jsxs)("button",{"data-tooltip-id":"tip-".concat(c),className:"status-btn status-btn--".concat(c),children:[c.charAt(0).toUpperCase()+c.slice(1)," "]}),(0,i.jsx)(a.A,{id:"tip-".concat(c),header:"".concat(c.charAt(0).toUpperCase()+c.slice(1),":"),description:"published"===c?"The page you see now is what the viewer sees.":"The post is in draft mode.",place:"bottom"})]})}),(0,i.jsx)("div",{className:"editor-navbar__middle align-items-center d-flex col-5",children:(0,i.jsx)("div",{className:"editor-navbar__item__search",children:(0,i.jsx)("span",{children:t?(0,i.jsxs)(h(),{href:"/blog/".concat(t),target:"_blank",rel:"noreferrer",children:["https://nofunmondays.com/blog/",t]}):(0,i.jsx)("span",{children:"Loading..."})})})}),(0,i.jsxs)("div",{className:"editor-navbar__right col-3 d-flex justify-content-end align-items-center",children:[(0,i.jsx)("div",{className:"editor-navbar__item__tools d-flex align-items-center",children:(0,i.jsx)("div",{className:"editor-navbar__item",children:(0,i.jsxs)(h(),{href:"#f",children:[(0,i.jsx)("i",{"data-tooltip-id":"tip-tools",className:"fa-solid fa-wrench"}),(0,i.jsx)(a.A,{id:"tip-tools",header:"Tools:",description:"Select any tools you wish to use.",place:"bottom"})]})})}),(0,i.jsxs)("div",{className:"editor-navbar__item__undoredo d-flex align-items-center",children:[(0,i.jsx)("div",{className:"editor-navbar__item",children:(0,i.jsxs)(h(),{href:"#f",children:[(0,i.jsx)("i",{"data-tooltip-id":"tip-undo",className:"fa-solid fa-rotate-left"}),(0,i.jsx)(a.A,{id:"tip-undo",header:"Undo",place:"bottom"})]})}),(0,i.jsx)("div",{className:"editor-navbar__item",children:(0,i.jsxs)(h(),{href:"#f",children:[(0,i.jsx)("i",{"data-tooltip-id":"tip-redo",className:"fa-solid fa-rotate-right"}),(0,i.jsx)(a.A,{id:"tip-redo",header:"Redo",place:"bottom"})]})})]}),(0,i.jsxs)("div",{className:"editor-navbar__item__save d-flex align-items-center",children:[(0,i.jsxs)("div",{className:"editor-navbar__item",children:[(0,i.jsx)(h(),{"data-tooltip-id":"tip-save",href:"#f",className:"save-btn",children:"Save"}),(0,i.jsx)(a.A,{id:"tip-save",header:"Autosave is on",description:"Website will save every minute. Or whenever you press save.",place:"bottom"})]}),(0,i.jsxs)("div",{className:"editor-navbar__item",children:[(0,i.jsx)(h(),{"data-tooltip-id":"tip-preview",href:"#f",className:"preview-btn",children:"Preview"}),(0,i.jsx)(a.A,{id:"tip-preview",header:"Preview Post",description:"See what your post will look like from the viewers end.",place:"bottom"})]}),(0,i.jsxs)("div",{className:"editor-navbar__item",children:[(0,i.jsx)("button",{"data-tooltip-id":"tip-publish",className:"publish-btn",onClick:()=>{u()},children:"Publish"}),(0,i.jsx)(a.A,{id:"tip-publish",header:"Publish Post",description:"Click publish to make your post go live.",place:"bottom"})]})]})]})]}),(0,i.jsx)(o.default,{})]})}},44402:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var i=s(74848),l=s(96540),a=s(72644),n=s(71468),r=s(30307),d=s(77528),o=s(55456);let c=e=>{if(!e)return{};let t=window.getComputedStyle(e);return{color:t.color,margin:t.margin,fontFamily:t.fontFamily,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,textDecoration:t.textDecoration,textAlign:t.textAlign}};var h=s(90126),u=s(59547),p=s(99418);let m=async(e,t,s,i)=>{if(!e)return;let l=new Map,a=i||null,n=document.querySelector(".banner img");n&&(a=n.src);let r=t.map(e=>{let t=document.getElementById(e.id);if(t){let s;let i=c(t);l.set(e.id,i);let a=null;if(t.classList.contains("image")){s="image";let e=t.querySelector("img");e&&(a=e.src)}else{let e=Object.keys(u).find(e=>{var s;return Array.isArray(null===(s=u[e])||void 0===s?void 0:s.classes)&&u[e].classes.some(e=>t.classList.contains(e.class))});if(e){let i=u[e].classes.find(e=>t.classList.contains(e.class));s=i?i.class:"default-text"}else s="default-text"}let n=t.innerText||e.content;n=p.A.sanitize(n);let r=(0,o._)((0,d._)({},e),{type:s,content:"bullet"===s?null:n,style:(0,d._)({},i)});if("image"===s&&(r.imageUrl=a),"bullet"===s){let e=Array.from(t.querySelectorAll("ul li"));r.listItems=e.map(e=>e.textContent)}if("twitter"===s){let e=t.querySelector("input.twitter");e&&e.value&&(r.twitterId=e.value)}return r}return e}),m=(0,o._)((0,d._)({},e),{imageUrl:a,elements:r,status:"published"});try{let t=await (0,h.A)(e._id,m);s(t)}catch(e){console.error("Error updating post:",e)}};var _=s(74692),b=s.n(_),x=s(91106),f=s.n(x);let v=function(){let{setPost:e,imageUrl:t}=(0,a.m)(),{postElements:s,post:d}=(0,n.d4)(e=>e.posts.fetchSlug),o=(0,l.useRef)(!0);(0,l.useEffect)(()=>()=>{o.current=!1},[]),(0,l.useEffect)(()=>{window.$&&b()(".publish").on("click",e=>{(0,r.wj)(e,".publish__inner",".publish")})},[]);let{auth:c}=d||{};return c?(0,i.jsx)("div",{className:"publish",children:(0,i.jsxs)("div",{className:"publish__inner",children:[(0,i.jsx)("div",{className:"publish__header",children:(0,i.jsx)("span",{children:"Publish Post"})}),(0,i.jsxs)("div",{className:"publish__content",children:[(0,i.jsx)(f(),{draggable:"false",children:(0,i.jsxs)("div",{className:"publish__content__item publish__content-post",children:[(0,i.jsx)("span",{children:"Publish Post"}),(0,i.jsx)("p",{children:"Make your post public."})]})}),(0,i.jsx)(f(),{draggable:"false",children:(0,i.jsxs)("div",{className:"publish__content__item publish__content-schedule",children:[(0,i.jsxs)("div",{className:"publish__content-schedule__text",children:[(0,i.jsx)("span",{children:"Scheduled Publish"}),(0,i.jsx)("p",{children:"Select a time to make your post public."})]}),(0,i.jsxs)("div",{className:"publish__content-schedule__input",children:[(0,i.jsx)("input",{type:"date",name:"",id:""}),(0,i.jsx)("input",{type:"time",name:"",id:""})]}),(0,i.jsxs)("p",{children:["Post will be ",(0,i.jsx)("b",{children:"private"})," before set time."]})]})}),(0,i.jsx)("div",{className:"publish__content-submit",children:(0,i.jsx)("button",{className:"fortnite-btn",onClick:()=>m(d,s,e,t),children:"Publish Post"})})]})]})}):null}},30307:(e,t,s)=>{s.d(t,{wj:()=>a});var i=s(74692),l=s.n(i);let a=(e,t,s)=>{!(Array.isArray(t)?t:[t]).some(t=>e.target.closest(t))&&s&&l()(s).stop(!0,!0).fadeOut(200)}}}]);